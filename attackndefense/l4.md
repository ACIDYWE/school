# Attack and Defense CTF -- Services

## Что такое сервис
- Сервис это любое преложение, которое в теории могло бы существовать 
(почта, чат, блог, электронный дневник, интерфейс умного пылесоса)
- Главное условие: наличие некторой секретной информации, которую пользователи 
могут сохранять так, чтобы прочитать её мог только владелец (не считая уязвимостей)
- Секретной может быть любая информация, соответствующая логике сервиса 
(тема письма, логин\пароль пользователя, заметка учителя об ученике, адрес комнаты для уборки и т.д.)
- Важно, чтобы секретная информация не была чужеродной для сервиса (например, пылесосу незачем хранить
секреты владельца) 
- Помимо хранения секретной информации хорошо, если сервис обладает дополнительным функционалом,
который добавит реальности сервису

#### Заметки о хорошем сервисе
- Хороший сервис обладает _несколькими_ уязвимостями разного плана
- Наличие закладок в коде (захардкоженный пароль админа и т.п.) считается плохим тоном, однако 
не воспрещается

## Что такое чекер
- Чекер, это программа, периодически запускаемая жюри для проверки работоспособности сервиса у команд-участников
- Каждый чекер имеет 3 базовых функции:
     +  `put` (save/post/etc) - помещает флаг в сервис
     +  `get` (fetch/retrieve/etc) - проверяет наличие флага в сервисе
     +  `check` - проверяет функционал сервиса, незадействованный при сохранении и получении флагов
- **ВАЖНО**: Чекеру недопустимо использовать уязвимости для сохранения или проверки флагов, а так же реализовывать функцию `check` таким образом, что какая-либо уязвимость сервиса не может быть закрыта

#### Заметки о хорошем чекере
- Чекер выполняет все действия, производимые пользователем для сохранения флага (например, перемещается по страницам сайта, а не работает напрямую с API)
- Чекер соответствует логике сервиса (генерирует правдоподобные имена пользователей, подходящие секреты и т.п.)
- Хорошо, если чекер максимально похож на обычного пользователя (имеет обычный User-Agent, периодически меняет поведение и посещает другие страницы, etc)

## Что делать
Разделиться на команды по 3-4 человека, и, взяв за основу три сыгранных сервиса: [simple_storage](simple_storage), [noteshop](noteshop) и [romulus-security](romulus-security), *разработать собственный несложный сервис*

#### Предполагаемый план действий:
-  Придумать и обсудить с преподавателями идею сервиса
-  Описать функионал сервиса, разделив все функции на общие и приватные, например:

   > Неавторизованный пользователь:
   > - регистрация
   > - логин
   > - общение в глобальном чате
   > - ...
   >
   > Авторизованный:
   > - общение в глобальном чате
   > - создание и общения в приватных каналах
   > - ... ?

-  Выделить основные объекты сервиса и описать их в виде классов с заглушками, рисунка или UML диаграммы, например:

   > Наличие в сервисе пользователей предполагает наличие класса пользователя и какого-нибудь менеджера для их регистрации и входа в сервис.
   >
   > Кроме того, полезно отделить логику сервиса от работы с сетью и обработки ответов пользователь, соответственно за каждую из частей тоже должен отвечать свой класс. (Приверы можно посмотреть в сервисах с прошлых занятий)
        
   Предлагается начать с описания очевидных классов, а потом, обсуждая взаимодействие, вместе придумывать требуемых менеджеров и интерфейсы

- Создать репозитарий на [GitHub](github.com) или [GitLab](gitlab.com) и приступить к разработке сервиса, активно взаимодействуя с преподавателями

## Полезные ссылки
- [Гайд](https://githowto.com/ru) по работе с git