# Web-scraping


1) Рассмотрели **функции** в питоне:
<details> <summary>С обязательными аргументами </summary>

```python
# Функция, которая принмает 2 аргумента
def foo(name, age):
  print('Hi %s, I know you are %d years old %)' % (name, age))
  

user_name = input('Enter your name: ')
user_age = input('Enter your age: ')

# Именно 2 аргумента мы и должны передать, иначе будет ошибка
foo(user_name, user_age)
```

Функции без аргументов относятся к этому типу, просто обязательных аргументов у них 0.

```python
import random

def foo():
  a = random.random()
  b = 10
  
  if a > b:
    return a
  else:
    return b
  
print(foo())
```

</details>
<details> <summary>С аргументами - ключевыми словами</summary>
Функции с ключевыми словами позволяют при вызове функции передавать параметры в произвольном порядке.

```python
# Функция, которая принмает 2 аргумента, важно заметить что сначала мы передаем Имя, а потом Возраст
def foo(name, age):
  print('Hi %s, I know you are %d years old %)' % (name, age))
  

user_name = input('Enter your name: ')

# Пишем ключевое слово - имя параметра, которое мы объявили в функции, а затем через = передаем значение
foo(age=15, name=user_name)
```
</details>

<details><summary>С аргументами, которые могут быть заданы по умолчанию</summary>
Случаются ситуации, когда в большинстве случаев параметр принимает одно значение, и лишь в некоторых совсем другое.
В этом случае очень удобно использовать аргументы, которые инициализируются в функции, когда параметр не задан.

```python
# В функции два аргумента Имя и Возраст. Возраст инициализируем значением по умолчанию.
# Важно заметить, что если в объявлении функции вы хотите использовать аргументы, которые обязательно
# должны быть переданы, и аргументы, которые проинициализированны значением по умолчанию, то сначала
# указываются аргументы, которые обязательно должны быть переданы, а далее уже со значениями по умолчанию.
def foo(name, age=15):
  print('Hi %s, I know you are %d years old %)' % (name, age))
  

user_name = input('Enter your name: ')
# Так как параметр возраст уже задан в функции, то передав только один аргумент, это не вызовет ошибки
# и переменная возраст проинициализируется значением по умолчанию - 15
foo(user_name)

# Но если нам необходимо другое значение аргумента age в функции, то просто передаем новое значение.
age = imput('Enter your age: ')
foo(name, age)
# Или
foo(name, 145)
```
</details>
<details><summary>С аргументами произвольной длины</summary>
Также бывают ситуации, когда количество аргументов, которые необходимо передать в функцию неизвестно.
Тогда аргументы произвольной длины можно передать через переменную, перед которой ставится *:

```python
# На самом деле в функцию передается кортеж из элементов
def foo(*args):
  #По кортежу мы можем итерироваться, поэтому можно все элементы вывести каждый с новый строки.
  for my_argument in args:
    print(my_argument)


# Вызвать функцию очень просто - достаточно просто передать все параметры, которые вам нужны
foo(1, 3, 4, 'Hey', list('Hello world!'))
# А можно передать просто один
foo(1)
# Или не передавать ничего, но не забывать о таком случае в функции.
foo()
```
</details>

---

2) Узнали что такое **web-scraping** ([я надеюсь, что вы знаете английский](https://en.wikipedia.org/wiki/Web_scraping)) - это техника извлечения нужной информации из сайтов. 
	
Еще интересные примеры (сложнее, чем мы делали на занятии), которые вы могли бы попробовать сами:
- [Web Scraping с помощью python](https://habrahabr.ru/post/280238/)
- [Очаровательный Python](https://www.ibm.com/developerworks/ru/library/l-python-mechanize-beautiful-soup/)
- [Web scraping с помощью scrapy и python 3](https://www.8host.com/blog/web-scraping-s-pomoshhyu-scrapy-i-python-3/)


А на занятии использовали инструмент [BeautifulSoup](http://wiki.python.su/%D0%94%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%86%D0%B8%D0%B8/BeautifulSoup).
По ссылкам можно прочитать про все доступные методы.
Мы использовали буквально несколько.

> Как установить **BeautifulSoup** и **lxml** на windows можно посмотреть [тут](https://www.youtube.com/watch?v=2ZEOscf1q4s), пропустив часть про устновку python.
Но если вы устанавили новую версию питона, то у вас должена была установиться утилита **pip** с помощью которой очень легко устанавливать все библиотеки для питона. Нужно открыть консоль и выполнить в ней команды `pip install BeautifulSoup` и `pip install lxml`.


Мы хотели вытащить информацию о названии пиццы, стоимость большой и ее ингредиенты.

Глобальный план:
- Надо как-то вытащить данные:
  * Вытащить в скрипт html-код странички
  * Представить в удобном формате для работы
- Выбрать необходимые данные:
  * Название пиццы
  * Цену
  * Ингридиенты

[Код, который мог у вас получиться](makelove.py)

---
# Домашнее задание

1. На основе кода, который получили на [занятии](makelove.py) написать функции:
- функцию вывода пицц содержащих определенный Ингредиент. Ингредиент должен спрашиваться у пользователя.
- функцию вывода пицц не содержащих определенный Ингредиент. Ингредиент должен спрашиваться у пользователя.
- функция вывода пицц из ценового диапазона. Минимальную и максимальную цену должен задавать пользователь.

Т.е это должно быть такое полноценное приложение, которое было бы круто запустить незнакомому человеку с френдли консольным интерфейсом.

2. Самому выбрать какой-то сайт, придумать что полезного с ним можно сделать и написать подобный код для него. Если не можете придумать сами - напишите, мы вам подскажем.

---
Как обычно все вопросы задавайте в сообщения группы. Домашку также копируем на pastebin и сдаем НЕ В ПОСЛЕДНИЙ момент, а заранее до следующего занятия. Если вам написали замечания - исправляем и отправляем снова, ок?

