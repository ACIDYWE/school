# Web-scraping

1) Рассмотрели **функции** в питоне:
<details> <summary>С обязательными аргументами </summary>
```python
# Функция, которая принмает 2 аргумента
def foo(name, age):
  print('Hi %s, I know you are %d years old %)' % (name, age))
  

user_name = input('Enter your name: ')
user_age = input('Enter your age: ')

# Именно 2 аргумента мы и должны передать, иначе будет ошибка
foo(user_name, user_age)
```

Функции без аргументов относятся к этому типу, просто обязательных аргументов у них 0.

```python
import random

def foo():
  a = random.random()
  b = 10
  
  if a > b:
    return a
  else:
    return b
  
print(foo())
```

</details>
<details> <summary>С аргументами - ключевыми словами</summary>
Функции с ключевыми словами позволяют при вызове функции передавать параметры в произвольном порядке.

```python
# Функция, которая принмает 2 аргумента, важно заметить что сначала мы передаем Имя, а потом Возраст
def foo(name, age):
  print('Hi %s, I know you are %d years old %)' % (name, age))
  

user_name = input('Enter your name: ')

# Пишем ключевое слово - имя параметра, которое мы объявили в функции, а затем через = передаем значение
foo(age=15, name=user_name)
```
</details>

<details><summary>С аргументами, которые могут быть заданы по умолчанию</summary>
Случаются ситуации, когда в большинстве случаев параметр принимает одно значение, и лишь в некоторых совсем другое.
В этом случае очень удобно использовать аргументы, которые инициализируются в функции, когда параметр не задан.

```python
# В функции два аргумента Имя и Возраст. Возраст инициализируем значением по умолчанию.
# Важно заметить, что если в объявлении функции вы хотите использовать аргументы, которые обязательно
# должны быть переданы, и аргументы, которые проинициализированны значением по умолчанию, то сначала
# указываются аргументы, которые обязательно должны быть переданы, а далее уже со значениями по умолчанию.
def foo(name, age=15):
  print('Hi %s, I know you are %d years old %)' % (name, age))
  

user_name = input('Enter your name: ')
# Так как параметр возраст уже задан в функции, то передав только один аргумент, это не вызовет ошибки
# и переменная возраст проинициализируется значением по умолчанию - 15
foo(user_name)

# Но если нам необходимо другое значение аргумента age в функции, то просто передаем новое значение.
age = imput('Enter your age: ')
foo(name, age)
# Или
foo(name, 145)
```
</details>
<details><summary>С аргументами произвольной длины</summary>
Также бывают ситуации, когда количество аргументов, которые необходимо передать в функцию неизвестно.
Тогда аргументы произвольной длины можно передать через переменную, перед которой ставится *:

```python
# На самом деле в функцию передается кортеж из элементов
def foo(*args):
  #По кортежу мы можем итерироваться, поэтому можно все элементы вывести каждый с новый строки.
  for my_argument in args:
    print(my_argument)


# Вызвать функцию очень просто - достаточно просто передать все параметры, которые вам нужны
foo(1, 3, 4, 'Hey', list('Hello world!'))
# А можно передать просто один
foo(1)
# Или не передавать ничего, но не забывать о таком случае в функции.
foo()
```
</details>

---
2) Узнали что такое **web-scraping** ([я надеюсь, что вы знаете английский](https://en.wikipedia.org/wiki/Web_scraping)) - это техника извлечения нужной информации из сайтов. 
	
Еще интересные примеры (сложнее, чем мы делали на занятии), которые вы могли бы попробовать сами:
- [Web Scraping с помощью python](https://habrahabr.ru/post/280238/)
- [Очаровательный Python](https://www.ibm.com/developerworks/ru/library/l-python-mechanize-beautiful-soup/)
- [Web scraping с помощью scrapy и python 3](https://www.8host.com/blog/web-scraping-s-pomoshhyu-scrapy-i-python-3/)


А на занятии использовали инструменты [urllib] (http://wikipython.ru/modules/urllib) и [BeautifulSoup] (http://wiki.python.su/%D0%94%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%86%D0%B8%D0%B8/BeautifulSoup).
По ссылкам можно прочитать про все доступные методы.
Мы использовали буквально несколько.

> Модуль **urllib** должен быть стандартным и уже установленным вместе с python, а как установить **BeautifulSoup** на windows можно посмотреть [тут](https://www.youtube.com/watch?v=2ZEOscf1q4s), пропустив часть про устновку python.


Мы решали задачу какую пиццу выгоднее всего заказать. Мы определили, что выгоднее всего заказать ту пиццу, где отношение калорий к цене максимальная. Т.е чем больше в пицце калорий, тем больше мы наедимся, но чем меньше она стоит, тем лучше.

Глобальный план:
- Надо как-то вытащить данные:
  * Вытащить в скрипт html-код странички
  * Представить в удобном формате для работы
- Выбрать необходимые данные:
  * Название пиццы
  * Цену
  * Калории
- Посчитать и решить какую пиццу выгоднее купить.

[Код, который мог у вас получиться](web_scraping.py)

---
### Домашнее задание

Возможно они покажутся объемными, но на самом деле половина считайте уже написана.
<details><summary>1. Камень Ножницы Бумага</summary>

Все вы, надеюсь, знаете эту игру:
- Камень побеждает Ножницы
- Ножницы побеждают Бумагу
- Бумага побеждает Камень

Необходимо написать программу, которая будет играть с пользователем в эту игру.
Пользователь должен вводить свои ответы: *Stone*, *Paper*, *Scissors* или *Quit* - для выхода из игры, программа должна генерировать рандомный ответ, а вы должны написать небольшой алгоритм, который говорит кто выйграл и запомнить счет.

Также необходимо реализовать функцию - проверку, что пользователь ввел один из ожидаемых ответов.

Примерная структура программы, которая может меняться в ходе вашей реализации:

```python
# Модуль, который можно использовать для рандомной генерации ответов программы
import random

#Возможные варианты можно записать в глобальную отдельную переменную
ANSWERS = ["Stone", "Scissors", 'Papper', 'Quit']
# Stone - камень, Scissors - ножницы, Papper - бумага, Quit - выход

def chek_user_input(user_answer):
  ''' Необходимо проверить, что пользователь ввел нужную команду'''
  

def generate_computer_answer():
  '''Сгенерировать ответ компьютера с помощью модуля random'''


def play(user_answer, computer_answer):
  '''Выяснить кто выиграл, если ничья, то всем вернуть 0 баллов, иначе вернуть список, где первый элемент - очко пользователя,
     а второй элемент- очко компьютера.
     К примеру: user_answer = 'Scissors', а computer_answer = 'Papper', то вернуть должны [1, 0]
  '''


user_score = 0
computer_score = 0
user_answer = input("Make a move ") # 'Сделай ход' для пользователя
''' Здесь необходимо написать часть кода так, чтобы игра продолжалась до тех пор, пока пользователь не введет 'Quit'
    При этом счет после каждой игры должен обновляться и выводиться.
'''

```
Документация для модуля [random](https://ps.readthedocs.io/ru/latest/random.html)

</details>

<details><summary>2. Coming soon...</summary>
 Да, выолжим чуууууть позже.
</details>

---
#### Спойлер следующего занятия
<details><summary>Если вам вдруг интересно или воспринимаете информацию так лучше</summary>
- Будем разбирать что такие [клиент-серверные приложения](http://old.mkgt.ru/lib/sp230103/rsoi/intr/M1/p1_5_3.htm).
- И будем учиться работать с [сокетами](https://www.ibm.com/developerworks/ru/library/l-python_part_10/).
- И наконец-то научимся разбираться с [исключениями](https://pythonworld.ru/tipy-dannyx-v-python/isklyucheniya-v-python-konstrukciya-try-except-dlya-obrabotki-isklyuchenij.html).
</details>
