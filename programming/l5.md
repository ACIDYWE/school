# Мягкое введение в ООП 

1. **ООП - объектно ориентированное программирование**  
Это такой способ проектирования, а в дальнейшем и написания программ, когда вы представляете компоненты программы в виде объектов.

В ООП существует много принципов, самые главные из них (очень концептуально):
- Абстрагирование - умение выделять объекты и описывать их в классах.
- Инкапсуляция - сокрытие чего-то именно (*разберем на примере далее*).
- Полиморфизм - множественность использования. На примере рассмотрим на следующем занятии.
- Наследование - возможность полностью или частично переиспользовать код вместе с его поведением. 

2. **Что такое объект?**  
Под объектом можно понимать любой процесс, любой элемент определенной категории. Главное, чтобы мы могли описать его какими-то значимыми признаками.  

Надо научиться мыслить объектно-ориентированно.  
На занятии для примера мы выделили объект *Пользователь*, которого могли охарактеризовать *логином*, *паролем*, *имэйлом*. Также поговорили про систему *Электронный журнал*. В ней выделили объекты: *ученик*, *учитель*, *журнал*, *оценки*. И главной мыслью нашей дискуссии стало то, что однозначного правила выделения объектов из какой-либо системы нет. В целом все будет правильно. Но! От того как вы выделите ваши объекты будет зависеть дальнейшая архитектура вашего приложения. 

3. **Классы**  
Ок, как в целом выделять объекты понятно, как же создавать свои объекты в программах?!
По факту с объектами в питоне вы уже работали.  

Следующая запись говорит, что вы создали **объект** и присвоили его переменной **a**.
```python
a = int()
```

Все типы данных в питоне являются объектами (в других языках может быть по другому).
По факту в питоне тип данных - это **класс**.

Еще раз, **класс** - это описание нового типа данных. Есть стандартные **классы**, как в нашем случае int, list, dict, например. А есть пользовательские типы данных, такие как мы описывали на занятии и еще раз рассмотрим ниже.

Чтобы не путаться, когда вы пишите код, необходимо точно знать ответы на вопрос: 
- какого типа данных сейчас объект?
- экземпляром какого класса является этот объект?

Т.е в данном случае термины *класс* и *тип данных* эквивалентны.

И еще раз, мб другими словами будет понятней:  
**Класс** - описание нового пользовательского типа данных.  
**Объект** - это конкретный экземпляр, чьим типом данных является какой-то класс.

<details><summary>Пример еще раз</summary>
  
```python
a = int()
```
Что означает этот код?  
Мы создали переменную `a`. С помощью `int()` мы создали в памяти объект типа `int` и присвоили его с помощью `=` в переменную `a`.
</details>

4. **Как описать новый тип данных | Создать класс**  
Концептуально:

``` python
class ИмяКласса:
  переменная = значение
  ...
  
  def функция(self, аргумент1, аргумент2, ...):
    реализация функции
  
  ...  
  
  def другая_функция(self, аргумент1, аргумент2):
    реализация другой функции
```

По факту:

```python
class MyClass:
  my_variable = 1
  another_variable = "hey!"
  
  def my_func(self):
    print("This is my function")
  
  def amother_func(self):
    pass
```

<details><summary>Класс, получившийся у нас на занятии: </summary>
  
```python
"""
test is a module for student class only.
 
We could probably name it 'education'
"""
 
class Student:
    """
    Student is a simple student class for
    education.
    """
 
    def __init__(self, name="anonymous anon", grade="1337X"):
        fname, lname = name.split(" ", 1)
        self.first_name = fname
        self.last_name = lname
        self.grade = grade[:-1]
        self.grade_letter = grade[-1]
 
    def do_homework(self, subject, due_date, estimated_time):
        """
        do_homework will do student's homework
        (when will be implemented)
        """
        assert "Not implemented"
 
 
    def is_done(self, hw_id):
        """
        is_done will return wether homework
        with id @hw_id have been dome
        """
        assert "Not implemented"
 
 
    def say_sorry(self, reason):
        """
        say_sorry exuses for something. @reason
        is the reason for the exuse
        """
        print("Sorry, I've {}".format(reason))
 
 
    def say_name(self):
        """
        say_name prints student's first name
        and last name to the stdout
        """
        print("Hi, I'm {} {}".format(self.last_name, self.first_name))
```
</details>

Отлично, работаем дальше:  
Как теперь пользоваться классом - вашим новым типом данных?  

1. лучше сохранить в отдельный документ в той же папке, где у вас будет основная программа, назвав его именем класса с маленькой буквы и расширением `.py` (как называть на самом деле не так важно, но лучше именем класса). Допустим, наш класс `Student` мы сохраним в файле, который назовем `student.py`.  

2. Теперь можно импортировать в вашу основную программу. Давайте использовать написанный класс Student:

```python
# имортируем модуль с написанным классом, теперь не пишем расширение
import student

#собственно всё, теперь можно использовать новый тип данных - ваш класс

# необходимо сначала указать модуль из которого вы будете использовать класс, а потом имя класса и обязательно ()
# вызывается конструктор, который инициализирует начальные значения переменных, которые вы указали
petya = student.Student()

```
Конструктор - это такая же функция, но она всегда должна называться `__init__(self, args)`. Как работать с функциями вроде уже проходили. Если хотите, чтобы передавались какие-то значения, то описываем в аргументах функции и при вызовые `vasya = student.Student(arg1, arg2, ..)` передаем.

Более подробно можно почитать [здесь](http://younglinux.info/oopython/oop.php): 1, 2 и 3 урок как раз те темы, которые мы завтронули.

---

### Домашнее задание:

С этого момента можно работать в парах, при условии, что каждый пишет какую-то часть кода и когда отправляете на проверку, то рассказывайте кто и что писал :)

<details><summary>Система электронный дневник | Part 1</summary>
Задание довольно творческое. Можете продумывать как хотите. Чем подробнее вы придумаете, тем интереснее будет далее.
Попробуйте создать систему электронный дневник **для одного класса**. 
Опишите классы: Ученик, Учитель, Журнал.

Методы у классов могут быть следующие:
- Ученик:
  - посмотреть список оценок за все предметы
  - посмотреть список оценок за конкретный предмет
  - посмотреть среднюю оценку за предмет
- Учитель:
  - добавить свой предмет в журнал
  - выставить определенному ученику оценку
  - выставить оценку за четверть
- Журнал:
  - возможность добавить определенный предмет
  - возможность поставить оценку определенному ученику
  - выдать оценки по названию предмета и фамилии ученика

Попробуйте придумать какие объекты еще можно выделить в системе "Электронный дневник". Подумайте какие еще функции могут быть у данных объектов и как они могут взаимодействовать между собой.

Для сдачи этого задания надо каждый класс сохранить в отдельном документе и присалть все модули. 
Было бы круто, чтобы вы это доделали, чтобы мы могли использовать этот код далее.
</details>

<details><summary>Система электронный дневник | Part 2</summary>
Все еще не освоили сокеты?

Давайте теперь из этих классов сделаем полноценное приложение. Пока что просто консольное.

Необходимо написать серверную часть "Электронного дневника". 
Должна быть возможность:
- по фамилии авторизоваться на сервере, как учитель или как ученик.
- если пользователь авторизован как учитель, то предоставить ему возможность делать все то, что описали в классе Учитель.
- если авторизован как ученик, то предоставить возможность делать все то, что описали в классе Ученик.
- журнал может быть одним объектом, время жизни которого будет такое же, как и время жизни сервера.

Т.е у вас должен быть какой-нибудь главный модуль, например, `main.py`, в котором вы описываете взаимодействие модулем соектов.
</details>

---

### Спойлер следующего занятия:
Будем говорить о наследовании и полиморфизме.
Если уже очень интересно, то можно почитать [тут про наследование](http://younglinux.info/oopython/inheritance.php) и [тут про полиморфизм](http://younglinux.info/oopython/polymorphism.php)
